<main data-page-type="checkout" data-page-title="Paiement Sécurisé"><script class="zflex-fragment-data" type="application/json"></script><section class="py-12 bg-pattern" style="background-color: var(--bg-color)"><div class="container mx-auto px-4 max-w-4xl"><div class="text-center mb-10"><h1 id="checkout-title" class="text-3xl font-bold font-heading mb-2" style="color: var(--text-color)">Étape 1: Livraison</h1><p style="color: var(--secondary-color)">Plus qu'une étape pour obtenir votre produit.</p><div class="max-w-2xl mx-auto mt-6"><div class="w-full rounded-full h-3 relative overflow-hidden" style="background-color: var(--card-bg-color);"><div id="progress-bar" class="h-3 rounded-full absolute left-0 top-0" style="width: 25%; background-color: var(--primary-color); transition: width 0.6s;"></div></div></div></div><div class="grid grid-cols-1 md:grid-cols-2 gap-8"><div class="p-6 rounded-xl shadow-lg" style="background-color: var(--card-bg-color); border: 1px solid var(--card-border-color)"><h2 class="text-xl font-bold mb-4" style="color: var(--text-color)">Résumé</h2><div id="summary-items-list" class="space-y-4 mb-6"><div class="animate-pulse flex space-x-4"><div class="bg-gray-200 h-12 w-12 rounded"></div><div class="flex-1 space-y-2 py-1"><div class="h-4 bg-gray-200 rounded w-3/4"></div><div class="h-4 bg-gray-200 rounded w-1/4"></div></div></div></div><div class="border-t pt-4 space-y-2" style="border-color: var(--card-border-color)"><div class="flex justify-between" style="color: var(--text-color)"><span>Sous-total</span> <span id="summary-subtotal">--</span></div><div class="flex justify-between font-bold text-lg" style="color: var(--primary-color)"><span>Total</span> <span id="summary-total">--</span></div></div></div><div class="space-y-6"><form id="checkout-form" class="space-y-4"><div id="step-address"><h3 class="text-lg font-semibold mb-3" style="color: var(--text-color)">Vos Coordonnées</h3><div class="space-y-3"><input type="text" id="name" name="name" placeholder="Nom complet" required class="w-full p-3 rounded-lg border focus:ring-2 focus:ring-primary outline-none" style="background: var(--input-bg-color); border-color: var(--card-border-color); color: var(--text-color);"> <input type="email" id="email" name="email" placeholder="Email" required class="w-full p-3 rounded-lg border focus:ring-2 focus:ring-primary outline-none" style="background: var(--input-bg-color); border-color: var(--card-border-color); color: var(--text-color);"> <input type="tel" id="phone" name="phone" placeholder="Téléphone" required class="w-full p-3 rounded-lg border focus:ring-2 focus:ring-primary outline-none" style="background: var(--input-bg-color); border-color: var(--card-border-color); color: var(--text-color);"> <textarea id="notes" name="notes" rows="2" placeholder="Notes (optionnel)" class="w-full p-3 rounded-lg border focus:ring-2 focus:ring-primary outline-none" style="background: var(--input-bg-color); border-color: var(--card-border-color); color: var(--text-color);"></textarea><div class="relative"><textarea id="address" name="address" rows="2" placeholder="Adresse de livraison" required class="w-full p-3 rounded-lg border focus:ring-2 focus:ring-primary outline-none" style="background: var(--input-bg-color); border-color: var(--card-border-color)"></textarea> <button type="button" id="use-geolocation-btn" title="Utiliser ma position actuelle" class="absolute top-3 right-3 transition-colors" style="color: var(--text-muted-color);"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path></svg></button></div></div><button type="button" id="continue-to-payment-btn" class="mt-4 w-full py-3 rounded-lg font-bold text-white shadow-md transform hover:scale-105 transition-transform" style="background-color: var(--primary-color)">Continuer</button></div><div id="step-payment" class="hidden"><h3 class="text-lg font-semibold mb-3" style="color: var(--text-color)">Paiement Mobile</h3><div class="space-y-3"><div class="relative"><span class="absolute left-3 top-3 text-gray-500">+243</span> <input type="tel" id="payment-phone" name="payment_phone" placeholder="812345678" required class="w-full p-3 pl-12 rounded-lg border focus:ring-2 focus:ring-primary outline-none" style="background: var(--input-bg-color); border-color: var(--card-border-color)"></div><div id="operator-logo-container" class="h-8"></div><div id="payment-instructions" class="text-sm p-2 rounded bg-opacity-20 hidden" style="background-color: var(--accent-color); color: var(--text-color)"></div></div><input type="hidden" id="selected-payment-method" name="payment_method"> <button type="submit" id="submit-order-btn" class="mt-4 w-full py-3 rounded-lg font-bold text-white shadow-md transform hover:scale-105 transition-transform" style="background-color: var(--primary-color)"><span class="btn-text">Confirmer et Payer</span> <span class="btn-spinner hidden"><i class="fa-solid fa-spinner fa-spin"></i></span></button></div><div id="checkout-error" class="hidden text-red-500 text-sm mt-2 text-center"></div></form></div></div></div></section></main>